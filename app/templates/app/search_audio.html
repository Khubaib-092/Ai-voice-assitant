<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ø±Ø¯Ùˆ ÙˆØ§Ø¦Ø³ Ø§Ø³Ø³Ù¹Ù†Ù¹</title>
</head>
<body>
    <h2>ğŸ” Ø§Ø±Ø¯Ùˆ Ø³ÙˆØ§Ù„ Ù„Ú©Ú¾ÛŒÚº:</h2>
    <form id="queryForm">
        <input type="text" id="query" placeholder="Ø¢Ù¾ Ú©Ø§ Ø³ÙˆØ§Ù„" style="width: 300px;" required>
        <button type="submit">ğŸ”Š Ø³Ù†ÛŒÚº</button>
    </form>

    <div id="audioContainer" style="margin-top: 20px;"></div>

    <script>
        document.getElementById('queryForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const query = document.getElementById('query').value;
            fetch(`/get-audio/?q=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    const audioPath = data.audio.replace(/\\/g, "/");  // Windows path fix
                    const fullUrl = `${window.location.origin}/${audioPath}`;

                    const audioContainer = document.getElementById('audioContainer');
                    audioContainer.innerHTML = `<audio controls autoplay src="${fullUrl}"></audio>`;
                })
                .catch(err => {
                    alert("âŒ Ú©ÙˆØ¦ÛŒ Ù…Ø³Ø¦Ù„Û ÛÙˆØ§Û”");
                    console.error(err);
                });
        });
    </script>
</body>
</html>
